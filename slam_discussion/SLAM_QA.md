# SLAM Q&A

-----

[TOC]

* Q: SLAM中为什么用李群李代数？
  A:
    slam中一个关键问题之一就是求解相机的位姿，人们找了很多以相机位姿为变量的误差函数，比如光度误差，重投影误差等等，希望使得误差最小，进而求得比较准确的相机位姿。比如对重投影误差，我们想要寻找一个最佳的位姿T，使得把每次观测的误差累加得到的整体误差J（T）最小化。优化方法一般都采用迭代优化的方法，每次迭代都更新一个位姿的增量delta，使得目标函数最小。这个delta就是通过误差函数J（T）对T微分得到的。T中的旋转矩阵R自身是带有约束的，它是正交矩阵并且行列式为1。如果把它们作为优化变量，会引入额外的约束，使优化变得困难。通过李群-李代数间的转换关系，就可以把这个问题变成无约束的优化问题。
    更详细点说。群是一种集合加上一种运算的代数结构，李群是具有连续光滑性质的群。旋转矩阵和乘法就构成了旋转矩阵群SO3，变换矩阵和乘法构成了变换矩阵群SE3。SO3和SE3空间对加法计算并不封闭，也就是说任意两个变换矩阵相加后并不是一个变换矩阵，这样就没有办法按照导数的定义进行求导（如对一个空间点进行旋转然后对该旋转求导）。李代数对应李群的切空间，它描述了李群局部的导数。李代数是由向量组成的，而向量是对加法封闭的。这样我们就可以通过对李代数求导来间接的对变换（或旋转）矩阵求导了。对于求导一般有两种方法，一种是用李代数表示姿态，然后对李代数求导；一种是对李群左乘或右乘一个微小扰动，然后对该扰动对应的李代数求导。前者会含有形式比较复杂的雅可比矩阵，故一般用后者进行计算。
